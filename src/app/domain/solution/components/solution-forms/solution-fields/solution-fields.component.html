<div [formGroup]="form">
    <ideal-idea-fields formGroupName="ideaFields" *ngIf="showIdeaFields" [showProblemFields]="showProblemFields"
                       name="solutionIdea"
                       [titleLabel]="ideaTitleLabel" [sneakPeakLabel]="ideaSnackPeakLabel"
                       [problemTitleLabel]="problemTitleLabel" [problemBodyLabel]="problemBodyLabel"
                       [problemTagsLabel]="problemTagsLabel" [idea]="_solution?.idea" [form]="ideaFields"
                       [submitted]="_submitted"
                       [text]="_solution?.text"
                       (contentChanged)="onContentChanged()"></ideal-idea-fields>
    <div class="margin-top">
        <div [froalaEditor]="options" formControlName="text" [(ngModel)]="_solution.text"></div>
    </div>
    <div class="padding-top">
        <span class="ideal-subheading">Solution Quality </span>
        <button mat-icon-button type="button" [disabled]="!contentChanged"
                [matTooltip]="'Refresh to get most recent analysis'"
                (click)="getSolutionQuality()">
            <mat-icon>refresh</mat-icon>
        </button>
        <div>
            <ideal-solution-quality formControlName="awards"
                                    [solutionQuality]="solutionQuality"></ideal-solution-quality>
        </div>
        <div style="text-align: end" class="ideal-caption">Awards will be private unless you want to share them with
            potential buyers. <a routerLink="/awards" idealColor="accent" target="_blank">More details</a></div>
    </div>
</div>
