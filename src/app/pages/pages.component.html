<md-sidenav-container style="margin: 0px !important; padding: 0px !important; height: 100vh">
  <md-sidenav mode="over" #sidenav>
    <md-toolbar color="primary">
      <ideal-authenticated-user-named-avatar (click)="sidenav.toggle()" [routerLink]="['/users', 'me']"
                                             style="margin-top: 60px" [profilePictureRadius]="25" nameFontSize="10pt"
                                             descriptionFontSize="8pt"></ideal-authenticated-user-named-avatar>
      <md-toolbar-row>
      </md-toolbar-row>
    </md-toolbar>
    <md-nav-list denese>
      <md-list-item *ngFor="let navigationItem of navigationItems" (click)="sidenav.toggle()"
                    [routerLink]="navigationItem.url" routerLinkActive="activeLink primary">
        <div>
          <md-icon [ngStyle]="{'color': navigationItem.color}" md-list-avatar>{{navigationItem.icon}}</md-icon>
          <span>{{navigationItem.title}}</span>
          <span class="numberOfNotifications" [ngStyle]="{'color': navigationItem.color}" *ngIf="navigationItem.title == 'Notifications' && numberOfNotifications > 0">({{numberOfNotifications}})</span>
        </div>
      </md-list-item>
    </md-nav-list>
  </md-sidenav>
  <div style="height: 100vh !important;" fxLayout="column">
    <nav class="md-elevation-z4">
      <ideal-navbar [numberOfNotifications]="numberOfNotifications" (sideNavToggle)="sidenav.toggle()"
                    (search)="onSearch($event)"></ideal-navbar>
    </nav>
    <div>
      <md-progress-bar
        style="position: absolute; z-index: 100; clear: none"
        *ngIf="loadingState"
        [value]="loadingState?.value"
        [bufferValue]="loadingState?.bufferValue"
        color="accent"
        [mode]="loadingState?.mode">
      </md-progress-bar>
    </div>
    <div fxFlex fxFlexFill style="overflow: auto"
         class="search-results"
         infinite-scroll
         [infiniteScrollDistance]="2"
         [infiniteScrollThrottle]="300"
         (scrolled)="onScroll()"
         [scrollWindow]="false">
      <router-outlet></router-outlet>
    </div>
  </div>
</md-sidenav-container>
